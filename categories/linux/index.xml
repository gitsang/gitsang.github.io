<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Linux on Sang's Blog</title><link>https://gitsang.github.io/categories/linux/</link><description>Recent content in Linux on Sang's Blog</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Mon, 12 May 2025 10:50:03 +0800</lastBuildDate><atom:link href="https://gitsang.github.io/categories/linux/index.xml" rel="self" type="application/rss+xml"/><item><title>Git Command Quick Search</title><link>https://gitsang.github.io/p/git-command-quick-search/</link><pubDate>Mon, 12 May 2025 10:46:23 +0800</pubDate><guid>https://gitsang.github.io/p/git-command-quick-search/</guid><description>&lt;!-- markdown-front-matter -->
&lt;h2 id="1-git-用户密码的保存和删除">&lt;a href="#1-git-%e7%94%a8%e6%88%b7%e5%af%86%e7%a0%81%e7%9a%84%e4%bf%9d%e5%ad%98%e5%92%8c%e5%88%a0%e9%99%a4" class="header-anchor">&lt;/a>1. git 用户密码的保存和删除
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"># 保存密码
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git config --global credential.helper store
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># 清除密码
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git config --system --unset credential.helper
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">git remote set-url remotename https://username:password@github.com/gitname/repo_name.git
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="2-git-reset">&lt;a href="#2-git-reset" class="header-anchor">&lt;/a>2. git reset
&lt;/h2>&lt;h3 id="21-撤销-commit-soft">&lt;a href="#21-%e6%92%a4%e9%94%80-commit-soft" class="header-anchor">&lt;/a>2.1 撤销 commit (soft)
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"># 撤销上一条 commit
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git reset --soft HEAD^
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># 撤销上n条 commit
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git reset --soft HEAD^n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># 撤销 commit 到某个 commit-version
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git reset --soft &amp;lt;commit-version&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>soft reset 仅仅撤销提交不回滚代码&lt;/p>
&lt;h3 id="22-撤销-commit-和-add-mixed">&lt;a href="#22-%e6%92%a4%e9%94%80-commit-%e5%92%8c-add-mixed" class="header-anchor">&lt;/a>2.2 撤销 commit 和 add (mixed)
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">git reset --mixed HEAD^
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="23-修改-commit-内容-amend">&lt;a href="#23-%e4%bf%ae%e6%94%b9-commit-%e5%86%85%e5%ae%b9-amend" class="header-anchor">&lt;/a>2.3 修改 commit 内容 (amend)&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">git commit --amend
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="24-回滚代码-hard">&lt;a href="#24-%e5%9b%9e%e6%bb%9a%e4%bb%a3%e7%a0%81-hard" class="header-anchor">&lt;/a>2.4 回滚代码 (hard)
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">git reset --hard &amp;lt;commit-version&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>hard reset 会将代码强制回滚&lt;/p>
&lt;p>如果需要强制提交到远端&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">git push -f origin master
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>强制 push 会导致当前 commit 之后的所有提交永久性丢失&lt;/p>
&lt;h2 id="3-查看-commit-version">&lt;a href="#3-%e6%9f%a5%e7%9c%8b-commit-version" class="header-anchor">&lt;/a>3. 查看 commit-version
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"># 查看远端的 commit log
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git log
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># 查看本地的 commit log
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git reflog
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>如果你的队友 &lt;code>push -f&lt;/code> 了代码，而你又不幸 &lt;code>pull&lt;/code> 了代码，可以通过 reflog 找回你之前的本地提交&lt;/p>
&lt;h2 id="4-代码入栈">&lt;a href="#4-%e4%bb%a3%e7%a0%81%e5%85%a5%e6%a0%88" class="header-anchor">&lt;/a>4. 代码入栈&lt;sup id="fnref:2">&lt;a href="#fn:2" class="footnote-ref" role="doc-noteref">2&lt;/a>&lt;/sup>
&lt;/h2>&lt;p>pop 之后可能需要解决冲突&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"># 当前代码入栈，并恢复到线上的 commit
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git stash
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># 修改代码并提交
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git add --all
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git commit -m &amp;#34;fix&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git push
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># 代码出栈
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git stash pop
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="5-代码入栈并拉取新分支">&lt;a href="#5-%e4%bb%a3%e7%a0%81%e5%85%a5%e6%a0%88%e5%b9%b6%e6%8b%89%e5%8f%96%e6%96%b0%e5%88%86%e6%94%af" class="header-anchor">&lt;/a>5. 代码入栈并拉取新分支&lt;sup id="fnref:3">&lt;a href="#fn:3" class="footnote-ref" role="doc-noteref">3&lt;/a>&lt;/sup>
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"># 当前代码入栈，并恢复到线上的 commit
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git stash
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># 新建分支
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git branch master-dev-fix
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># 切换分支
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git checkout master-dev-fix
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># 也可以新建并切换分支
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#git checkout -b master-dev-fix
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># 修改代码并提交
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git add --all
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git commit -m &amp;#34;fix&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># 合并到 master
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git checkout master
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git merge master-dev-fix
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># push 到线上
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git push
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># 恢复代码
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git stash pop
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="6-自动转换换行符">&lt;a href="#6-%e8%87%aa%e5%8a%a8%e8%bd%ac%e6%8d%a2%e6%8d%a2%e8%a1%8c%e7%ac%a6" class="header-anchor">&lt;/a>6. 自动转换换行符
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"># 提交时转换为LF，检出时转换为CRLF
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git config --global core.autocrlf true
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># 提交时转换为LF，检出时不转换
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git config --global core.autocrlf input
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># 提交检出均不转换
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git config --global core.autocrlf false
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="7-使用字符串而不是-ascii-码输出">&lt;a href="#7-%e4%bd%bf%e7%94%a8%e5%ad%97%e7%ac%a6%e4%b8%b2%e8%80%8c%e4%b8%8d%e6%98%af-ascii-%e7%a0%81%e8%be%93%e5%87%ba" class="header-anchor">&lt;/a>7. 使用字符串而不是 ascii 码输出
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">git config --global core.quotepath false
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="8-修改远程仓库地址">&lt;a href="#8-%e4%bf%ae%e6%94%b9%e8%bf%9c%e7%a8%8b%e4%bb%93%e5%ba%93%e5%9c%b0%e5%9d%80" class="header-anchor">&lt;/a>8. 修改远程仓库地址
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">git remote set-url origin https://giturl.git
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="9-合并提交">&lt;a href="#9-%e5%90%88%e5%b9%b6%e6%8f%90%e4%ba%a4" class="header-anchor">&lt;/a>9. 合并提交&lt;sup id="fnref:4">&lt;a href="#fn:4" class="footnote-ref" role="doc-noteref">4&lt;/a>&lt;/sup>
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">git rebase -i HEAD~3
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># set merge commit to squash
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="10-参考">&lt;a href="#10-%e5%8f%82%e8%80%83" class="header-anchor">&lt;/a>10. 参考
&lt;/h2>&lt;div class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1">
&lt;p>&lt;a class="link" href="https://blog.csdn.net/QQxiaoqiang1573/article/details/68074847" target="_blank" rel="noopener"
>git 删除远程分支上的某次提交&lt;/a>&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:2">
&lt;p>&lt;a class="link" href="https://blog.csdn.net/w958796636/article/details/53609589" target="_blank" rel="noopener"
>git使用情景1：正在写代码，突然线上出现了bug&lt;/a>&amp;#160;&lt;a href="#fnref:2" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:3">
&lt;p>&lt;a class="link" href="https://blog.csdn.net/w958796636/article/details/53611133" target="_blank" rel="noopener"
>git使用情景2：commit之后，想撤销commit&lt;/a>&amp;#160;&lt;a href="#fnref:3" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:4">
&lt;p>&lt;a class="link" href="https://www.cnblogs.com/woshimrf/p/git-rebase.html" target="_blank" rel="noopener"
>git合并历史提交&lt;/a>&amp;#160;&lt;a href="#fnref:4" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/div></description></item><item><title>Removing Systemd Services Safely</title><link>https://gitsang.github.io/p/how-to-remove-systemd-service/</link><pubDate>Mon, 12 May 2025 10:36:53 +0800</pubDate><guid>https://gitsang.github.io/p/how-to-remove-systemd-service/</guid><description>&lt;!-- markdown-front-matter -->
&lt;h2 id="1-method">&lt;a href="#1-method" class="header-anchor">&lt;/a>1. Method
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">systemctl stop &lt;span class="o">[&lt;/span>servicename&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl disable &lt;span class="o">[&lt;/span>servicename&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">rm /your/service/locations/&lt;span class="o">[&lt;/span>servicename&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">rm /your/service/locations/&lt;span class="o">[&lt;/span>servicename&lt;span class="o">]&lt;/span> &lt;span class="c1"># and symlinks that might be related&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl daemon-reload
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl reset-failed
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Systemd uses unit (file to define services) to remove a service the unit have to be removed&amp;hellip; here is a list of unit locations :&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">/etc/systemd/system/ &lt;span class="o">(&lt;/span>and sub directories&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/usr/local/etc/systemd/system/ &lt;span class="o">(&lt;/span>and sub directories&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">~/.config/systemd/user/ &lt;span class="o">(&lt;/span>and sub directories&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/usr/lib/systemd/ &lt;span class="o">(&lt;/span>and sub directories&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/usr/local/lib/systemd/ &lt;span class="o">(&lt;/span>and sub directories&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/etc/init.d/ &lt;span class="o">(&lt;/span>Converted old service system&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>You can easily find location in &lt;code>loaded&lt;/code> property using &lt;code>systemctl status [service]&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">$ systemctl status bluetooth.service
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> bluetooth.service - Bluetooth service
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Loaded: loaded &lt;span class="o">(&lt;/span>/lib/systemd/system/bluetooth.service&lt;span class="p">;&lt;/span> disabled&lt;span class="p">;&lt;/span> vendor preset: enabled&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Active: inactive &lt;span class="o">(&lt;/span>dead&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Docs: man:bluetoothd&lt;span class="o">(&lt;/span>8&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Or using &lt;code>systemctl cat [service]&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-systemd" data-lang="systemd">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># systemctl cat frps.service&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"># /lib/systemd/system/frps.service&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">[Unit]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">Description&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">Frp Server Service&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">After&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">network.target&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">[Service]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">Type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">simple&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">User&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">nobody&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">Restart&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">on-failure&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">RestartSec&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">5s&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">ExecStart&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">/usr/bin/frps -c /etc/frp/frps.ini&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">[Install]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">WantedBy&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">multi-user.target&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="11-about-reset-failed-option">&lt;a href="#11-about-reset-failed-option" class="header-anchor">&lt;/a>1.1 About &amp;ldquo;reset-failed&amp;rdquo; Option
&lt;/h3>&lt;p>From the systemd man page:&lt;/p>
&lt;blockquote>
&lt;p>reset-failed [PATTERN&amp;hellip;]&lt;/p>
&lt;p>Reset the &amp;ldquo;failed&amp;rdquo; state of the specified units, or if no unit name is passed, reset the state of all units. When a unit fails in some way (i.e. process exiting with non-zero error code, terminating abnormally or timing out), it will automatically enter the &amp;ldquo;failed&amp;rdquo; state and its exit code and status is recorded for introspection by the administrator until the service is restarted or reset with this command.&lt;/p>&lt;/blockquote>
&lt;h2 id="2-reference">&lt;a href="#2-reference" class="header-anchor">&lt;/a>2. Reference
&lt;/h2>&lt;div class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1">
&lt;p>&lt;a class="link" href="https://superuser.com/questions/513159/how-to-remove-systemd-services/1344239#1344239" target="_blank" rel="noopener"
>How to remove systemd services&lt;/a>&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/div></description></item><item><title>开启 IPv6 自动配置</title><link>https://gitsang.github.io/p/enable-ipv6-slaac/</link><pubDate>Wed, 04 Dec 2024 10:43:07 +0800</pubDate><guid>https://gitsang.github.io/p/enable-ipv6-slaac/</guid><description>&lt;!-- markdown-front-matter -->
&lt;h2 id="1-sysctl-配置">&lt;a href="#1-sysctl-%e9%85%8d%e7%bd%ae" class="header-anchor">&lt;/a>1. sysctl 配置
&lt;/h2>&lt;p>在某些情况下，IPv6 并不会自动配置，需要手动开启 sysctl 选项&lt;/p>
&lt;p>编辑 &lt;code>/etc/sysctl.conf&lt;/code> 文件，并在末尾添加以下内容，输入 &lt;code>sysctl -p&lt;/code> 立即生效配置&lt;/p>
&lt;p>此选项将开启 IPv6 功能，通常情况下，只需要配置此选项即可开启 IPv6&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">net.ipv6.conf.default.disable_ipv6 = 0
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">net.ipv6.conf.all.disable_ipv6 = 0
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>此选项将允许数据包在 Interface 之间转发，当你的网络接口是使用桥接时，通常需要开启此选项&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">net.ipv6.conf.default.forwarding = 1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">net.ipv6.conf.all.forwarding = 1
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>此选项将允许接收路由器通告，如果上面两个选项配置后仍然无法获取 IPv6 地址，可以尝试开启以下选项&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">net.ipv6.conf.all.accept_ra = 1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">net.ipv6.conf.default.accept_ra = 1
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>此选项用于开启 SLAAC (Stateless Address Autoconfiguration)，一般默认是开着的&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">net.ipv6.conf.all.autoconf = 1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">net.ipv6.conf.default.autoconf = 1
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="2-网络接口配置">&lt;a href="#2-%e7%bd%91%e7%bb%9c%e6%8e%a5%e5%8f%a3%e9%85%8d%e7%bd%ae" class="header-anchor">&lt;/a>2. 网络接口配置
&lt;/h2>&lt;p>编辑 &lt;code>/etc/network/interfaces&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">iface vmbr0 inet6 auto
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>当 inet6 配置为 &lt;code>auto&lt;/code> 时将使用 SLAAC 自动配置&lt;/p></description></item><item><title>Iptables 本地回环接口容易造成误解的配置</title><link>https://gitsang.github.io/p/iptables-local-loopback-ambiguous-config/</link><pubDate>Tue, 07 May 2024 11:11:00 +0800</pubDate><guid>https://gitsang.github.io/p/iptables-local-loopback-ambiguous-config/</guid><description>&lt;!-- markdown-front-matter -->
&lt;p>使用 &lt;code>iptables -L&lt;/code> 可能会看到类似如下的配置&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">Chain INPUT (policy ACCEPT)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">target prot opt source destination
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ACCEPT all -- anywhere anywhere ctstate RELATED,ESTABLISHED
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ACCEPT all -- anywhere anywhere
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>第二条规则看上去像是允许了任意来源和目标的流量，但实际验证的效果却是后续的防火墙规则仍然在工作。&lt;/p>
&lt;p>这是因为，第二条规则实际上仅针对本地回环 (lo) 接口，当使用 &lt;code>iptables -L&lt;/code> 查看时进行了省略，使用 iptables-save 可以得到完整的防火墙规则如下&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">-A INPUT -m conntrack --ctstate RELATED,ESTABLISHED -j ACCEPT
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-A INPUT -i lo -j ACCEPT
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Firewalld 白名单配置方法</title><link>https://gitsang.github.io/p/firewalld-white-list-configuration/</link><pubDate>Tue, 07 May 2024 11:09:00 +0800</pubDate><guid>https://gitsang.github.io/p/firewalld-white-list-configuration/</guid><description>&lt;!-- markdown-front-matter -->
&lt;h2 id="1-白名单配置方法">&lt;a href="#1-%e7%99%bd%e5%90%8d%e5%8d%95%e9%85%8d%e7%bd%ae%e6%96%b9%e6%b3%95" class="header-anchor">&lt;/a>1. 白名单配置方法
&lt;/h2>&lt;p>以仅信任来自 &lt;code>10.60.22.0/24&lt;/code>, &lt;code>10.60.23.0/24&lt;/code> ip 端的连接为例&lt;/p>
&lt;h3 id="11-配置信任来源">&lt;a href="#11-%e9%85%8d%e7%bd%ae%e4%bf%a1%e4%bb%bb%e6%9d%a5%e6%ba%90" class="header-anchor">&lt;/a>1.1 配置信任来源
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 添加 IP 地址范围到 &amp;#34;trusted&amp;#34; 的区域&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">firewall-cmd --permanent --zone&lt;span class="o">=&lt;/span>trusted --add-source&lt;span class="o">=&lt;/span>10.60.22.0/24
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">firewall-cmd --permanent --zone&lt;span class="o">=&lt;/span>trusted --add-source&lt;span class="o">=&lt;/span>10.60.23.0/24
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="12-配置默认拒绝">&lt;a href="#12-%e9%85%8d%e7%bd%ae%e9%bb%98%e8%ae%a4%e6%8b%92%e7%bb%9d" class="header-anchor">&lt;/a>1.2 配置默认拒绝
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 将默认的防火墙区域设置为 &amp;#34;drop&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">firewall-cmd --set-default-zone&lt;span class="o">=&lt;/span>drop
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 将网络接口 eth0 分配给 &amp;#34;drop&amp;#34; 区域&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">firewall-cmd --permanent --zone&lt;span class="o">=&lt;/span>drop --change-interface&lt;span class="o">=&lt;/span>eth0
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="13-reload-防火墙">&lt;a href="#13-reload-%e9%98%b2%e7%81%ab%e5%a2%99" class="header-anchor">&lt;/a>1.3 Reload 防火墙
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">firewall-cmd --reload
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">firewall-cmd --get-active-zones
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>get-active-zones 应该会得到类似如下配置&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">drop
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> interfaces: eth0
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">trusted
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> sources: 10.60.22.0/24 10.60.23.0/24
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Install Git from Source Code</title><link>https://gitsang.github.io/p/install-git-from-source-code/</link><pubDate>Mon, 08 May 2023 11:31:00 +0800</pubDate><guid>https://gitsang.github.io/p/install-git-from-source-code/</guid><description>&lt;!-- markdown-front-matter -->
&lt;h2 id="1-prerequisite">&lt;a href="#1-prerequisite" class="header-anchor">&lt;/a>1. Prerequisite
&lt;/h2>&lt;h3 id="11-centos">&lt;a href="#11-centos" class="header-anchor">&lt;/a>1.1 CentOS
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">yum install zlib-devel
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">yum install asciidoc
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">yum install xmlto
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="12-debian">&lt;a href="#12-debian" class="header-anchor">&lt;/a>1.2 Debian
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">apt-get install zlib1g-dev
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">apt-get install asciidoc
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">apt-get install xmlto
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="2-install">&lt;a href="#2-install" class="header-anchor">&lt;/a>2. Install
&lt;/h2>&lt;p>You can get it via the kernel.org site, at &lt;a class="link" href="https://www.kernel.org/pub/software/scm/git" target="_blank" rel="noopener"
>https://www.kernel.org/pub/software/scm/git&lt;/a>, or the mirror on the GitHub website, at &lt;a class="link" href="https://github.com/git/git/tags" target="_blank" rel="noopener"
>https://github.com/git/git/tags&lt;/a>.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">wget https://github.com/git/git/archive/refs/tags/v2.40.1.tar.gz
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tar -zxf v2.40.1.tar.gz
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cd v2.40.1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">make configure
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">./configure --prefix=/usr
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">make all doc info
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo make install install-doc install-html install-info
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="3-reference">&lt;a href="#3-reference" class="header-anchor">&lt;/a>3. Reference
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://git-scm.com/book/en/v2/Getting-Started-Installing-Git" target="_blank" rel="noopener"
>Getting-Started-Installing-Git&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Using Swap</title><link>https://gitsang.github.io/p/using-swap/</link><pubDate>Tue, 13 Apr 2021 11:38:00 +0800</pubDate><guid>https://gitsang.github.io/p/using-swap/</guid><description>&lt;!-- markdown-front-matter -->
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># create swap file&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">dd &lt;span class="k">if&lt;/span>&lt;span class="o">=&lt;/span>/dev/zero &lt;span class="nv">of&lt;/span>&lt;span class="o">=&lt;/span>/.swap &lt;span class="nv">bs&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1048576&lt;/span> &lt;span class="nv">count&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">4096&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># format swap&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mkswap /.swap
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># start swap&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">swapon /.swap
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># check&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">free -h
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># onboot&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;/.swap swap swap defaults 0 0&amp;#34;&lt;/span> &amp;gt;&amp;gt; /etc/fstab
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Build SSH Tunnel</title><link>https://gitsang.github.io/p/build-ssh-tunnel/</link><pubDate>Sat, 14 Mar 2020 14:53:28 +0800</pubDate><guid>https://gitsang.github.io/p/build-ssh-tunnel/</guid><description>&lt;!-- markdown-front-matter -->
&lt;h2 id="1-使用场景">&lt;a href="#1-%e4%bd%bf%e7%94%a8%e5%9c%ba%e6%99%af" class="header-anchor">&lt;/a>1. 使用场景
&lt;/h2>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>机器代号&lt;/th>
&lt;th>操作系统&lt;/th>
&lt;th>机器位置&lt;/th>
&lt;th>IP&lt;/th>
&lt;th>账户名&lt;/th>
&lt;th>ssh/sshd 端口&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>OuterNet&lt;/td>
&lt;td>CentOS 7&lt;/td>
&lt;td>公网&lt;/td>
&lt;td>50.100.50.100&lt;/td>
&lt;td>OuterUser&lt;/td>
&lt;td>22&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>LocalNet&lt;/td>
&lt;td>CentOs 7&lt;/td>
&lt;td>内网(局域网)&lt;/td>
&lt;td>10.200.100.10&lt;/td>
&lt;td>LocalUser&lt;/td>
&lt;td>22&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>想要通过公网上的机器 OuterNet 访问内网机器 LocalNet&lt;/p>
&lt;p>并能够使用 OuterNet 机器的 10022 端口访问 LocalNet 机器的 22 端口&lt;/p>
&lt;p>相当于&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>OuterUser@OuterNet&lt;span class="o">]&lt;/span> $ ssh -p &lt;span class="m">10022&lt;/span> LocalUser@127.0.0.1
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>替代在内网时候&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">$ ssh LocalUser@10.200.100.10
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="11-建立简单的-ssh-反向隧道">&lt;a href="#11-%e5%bb%ba%e7%ab%8b%e7%ae%80%e5%8d%95%e7%9a%84-ssh-%e5%8f%8d%e5%90%91%e9%9a%a7%e9%81%93" class="header-anchor">&lt;/a>1.1 建立简单的 ssh 反向隧道
&lt;/h3>&lt;ol>
&lt;li>在 LocalNet 机器上执行以下命令建立隧道&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">[LocalUser@LocalNet] $ ssh -p 22 -qngfNTR 10022:localhost:22 OuterUser@50.100.50.100
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>或（以下参数似乎比较稳定）&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">[root@LocalNet] $ ssh -fN -R :55555:localhost:22 50.100.50.100
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="2">
&lt;li>在 OuterNet 上连接 LocalNet&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>OuterUser@OuterNet&lt;span class="o">]&lt;/span> $ ssh -p &lt;span class="m">10022&lt;/span> LocalUser@127.0.0.1
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="12-维持隧道">&lt;a href="#12-%e7%bb%b4%e6%8c%81%e9%9a%a7%e9%81%93" class="header-anchor">&lt;/a>1.2 维持隧道
&lt;/h3>&lt;ol>
&lt;li>安装 autossh&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>LocalUser@LocalNet&lt;span class="o">]&lt;/span> $ sudo yum install autossh
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="2">
&lt;li>内网建立隧道&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>LocalUser@LocalNet&lt;span class="o">]&lt;/span> $ autossh -p &lt;span class="m">22&lt;/span> -M &lt;span class="m">7777&lt;/span> -NR 10022:localhost:22 OuterUser@50.100.50.100
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="3">
&lt;li>在 OuterNet 上连接 LocalNet&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>OuterUser@OuterNet&lt;span class="o">]&lt;/span> $ ssh -p &lt;span class="m">10022&lt;/span> LocalUser@127.0.0.1
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="13-监听-0000">&lt;a href="#13-%e7%9b%91%e5%90%ac-0000" class="header-anchor">&lt;/a>1.3 监听 0.0.0.0
&lt;/h3>&lt;p>如果需要监听 0.0.0.0 需要在服务端，即公网机器上开启 GatewayPorts&lt;/p>
&lt;p>在 /etc/ssh/sshd_config 中把 &lt;code>GatewayPorts&lt;/code> 设为 yes&lt;/p>
&lt;h2 id="2-参考">&lt;a href="#2-%e5%8f%82%e8%80%83" class="header-anchor">&lt;/a>2. 参考
&lt;/h2>&lt;div class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1">
&lt;p>&lt;a class="link" href="https://www.zsythink.net/archives/2450" target="_blank" rel="noopener"
>ssh 端口转发：ssh 隧道&lt;/a>&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/div></description></item><item><title>Curl 输出格式</title><link>https://gitsang.github.io/p/curl-write-out-format/</link><pubDate>Wed, 09 Oct 2019 14:53:28 +0800</pubDate><guid>https://gitsang.github.io/p/curl-write-out-format/</guid><description>&lt;img src="https://gitsang.github.io/p/curl-write-out-format/cover.jpg" alt="Featured image of post Curl 输出格式" />&lt;h2 id="操作方法">&lt;a href="#%e6%93%8d%e4%bd%9c%e6%96%b9%e6%b3%95" class="header-anchor">&lt;/a>操作方法
&lt;/h2>&lt;p>默认情况下，curl 不会输出耗时信息，状态码等，若需要输出，需要使用 &lt;code>-w, --write-out FORMAT&lt;/code> 选项配置 Write Out 格式。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">curl -w &lt;span class="s2">&amp;#34;\n\ntime_total: %{time_total}s\n&amp;#34;&lt;/span> https://www.example.com
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Write Out 中支持的变量请参考：&lt;/p>
&lt;p>&lt;a class="link" href="https://everything.curl.dev/usingcurl/verbose/writeout#available-write-out-variables" target="_blank" rel="noopener"
>https://everything.curl.dev/usingcurl/verbose/writeout#available-write-out-variables&lt;/a>&lt;/p>
&lt;p>也可以使用文件&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">curl -w &lt;span class="s2">&amp;#34;@curl-format.txt&amp;#34;&lt;/span> https://www.example.com
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>一个简单的文件格式参考如下：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-txt" data-lang="txt">&lt;span class="line">&lt;span class="cl">\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">time_namelookup: %{time_namelookup}s\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">time_connect: %{time_connect}s\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">time_appconnect: %{time_appconnect}s\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">time_pretransfer: %{time_pretransfer}s\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">time_redirect: %{time_redirect}s\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">time_starttransfer: %{time_starttransfer}s\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">----------\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">time_total: %{time_total}s\n
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>用于 debug 的详细信息格式参考：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-txt" data-lang="txt">&lt;span class="line">&lt;span class="cl">\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">url_effective: %{url_effective}\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ssl_verify_result: %{ssl_verify_result}\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">content_type: %{content_type}\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">filename_effective: %{filename_effective}\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ftp_entry_path: %{ftp_entry_path}\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">http_code: %{http_code}\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">http_connect: %{http_connect}\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">local_ip: %{local_ip}\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">local_port: %{local_port}\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">num_connects: %{num_connects}\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">num_redirects: %{num_redirects}\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">redirect_url: %{redirect_url}\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">remote_ip: %{remote_ip}\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">remote_port: %{remote_port}\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">response_code: %{response_code}\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">size_download: %{size_download} bytes\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">size_header: %{size_header} bytes\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">size_request: %{size_request} bytes\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">size_upload: %{size_upload} bytes\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">speed_download: %{speed_download} bytes/s\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">speed_upload: %{speed_upload} bytes/s\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">time_appconnect: %{time_appconnect}s\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">time_connect: %{time_connect}s\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">time_namelookup: %{time_namelookup}s\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">time_pretransfer: %{time_pretransfer}s\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">time_redirect: %{time_redirect}s\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">time_starttransfer: %{time_starttransfer}s\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">time_total: %{time_total}s\n
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Install PHP 7.4 on CentOS 7</title><link>https://gitsang.github.io/p/install-php74-on-centos7/</link><pubDate>Thu, 30 Sep 2021 09:23:35 +0800</pubDate><guid>https://gitsang.github.io/p/install-php74-on-centos7/</guid><description>&lt;!-- markdown-front-matter -->
&lt;h2 id="1-step-1-add-epel-and-remi-repository">&lt;a href="#1-step-1-add-epel-and-remi-repository" class="header-anchor">&lt;/a>1. Step 1: Add EPEL and REMI Repository
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo yum -y install https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo yum -y install https://rpms.remirepo.net/enterprise/remi-release-7.rpm
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="2-step-2-install-php-74-on-centos-7">&lt;a href="#2-step-2-install-php-74-on-centos-7" class="header-anchor">&lt;/a>2. Step 2: Install PHP 7.4 on CentOS 7
&lt;/h2>&lt;ul>
&lt;li>Enable PHP 7.4 Remi repository&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo yum -y install yum-utils
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo yum-config-manager --enable remi-php74
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>Install&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo yum update
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo yum install php php-cli
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>Install additional packages:&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo yum install php-xxx
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Example:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo yum install php php-cli php-fpm php-mysqlnd php-zip php-devel php-gd php-mcrypt php-mbstring php-curl php-xml php-pear php-bcmath php-json
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>Check Version&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">$ php -v
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">PHP 7.4.0 (cli) (built: Nov 26 2019 20:13:36) ( NTS )
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Copyright (c) The PHP Group
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Zend Engine v3.4.0, Copyright (c) Zend Technologies
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>View enabled modules&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">$ php --modules
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Enable Ctrl+P in Docker</title><link>https://gitsang.github.io/p/enable-ctrl-p-in-docker/</link><pubDate>Fri, 24 Sep 2021 15:57:22 +0800</pubDate><guid>https://gitsang.github.io/p/enable-ctrl-p-in-docker/</guid><description>&lt;!-- markdown-front-matter -->
&lt;h2 id="1-config">&lt;a href="#1-config" class="header-anchor">&lt;/a>1. Config
&lt;/h2>&lt;p>edit &lt;code>~/.docker/config.json&lt;/code> &lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">{
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;detachKeys&amp;#34;: &amp;#34;ctrl-q,q&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="2-reference">&lt;a href="#2-reference" class="header-anchor">&lt;/a>2. Reference
&lt;/h2>&lt;div class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1">
&lt;p>&lt;a class="link" href="https://cloud.tencent.com/developer/ask/82394" target="_blank" rel="noopener"
>docker ：把Ctrl+p换成别的什么了&lt;/a>&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/div></description></item><item><title>Mount Windows Network Disk to WSL</title><link>https://gitsang.github.io/p/mount-windows-network-disk-to-wsl/</link><pubDate>Fri, 24 Sep 2021 14:21:20 +0800</pubDate><guid>https://gitsang.github.io/p/mount-windows-network-disk-to-wsl/</guid><description>&lt;!-- markdown-front-matter -->
&lt;h2 id="1-backgroud">&lt;a href="#1-backgroud" class="header-anchor">&lt;/a>1. Backgroud
&lt;/h2>&lt;p>Mount samba directly in wsl like linux is difficult&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">Password for root@//filesystem.domain/root:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mount error: cifs filesystem not supported by the system
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mount error(19): No such device
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Refer to the mount.cifs(8) manual page (e.g. man mount.cifs)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="2-solution">&lt;a href="#2-solution" class="header-anchor">&lt;/a>2. Solution
&lt;/h2>&lt;p>But is easily mount net disk in windows file manager. So if your windows share is already mapped to a drive in the Windows host, it can be even simpler.&lt;/p>
&lt;p>Suppose you already mounted the share on Z:. In that case the following will work:&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo mkdir /mnt/z
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo mount -t drvfs &amp;#39;Z:&amp;#39; /mnt/z
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="3-reference">&lt;a href="#3-reference" class="header-anchor">&lt;/a>3. Reference
&lt;/h2>&lt;div class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1">
&lt;p>&lt;a class="link" href="https://stackoverflow.com/questions/45244306/mounting-a-windows-share-in-windows-subsystem-for-linux/46968030" target="_blank" rel="noopener"
>Mounting a windows share in Windows Subsystem for Linux - Stack Overflow&lt;/a>&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/div></description></item><item><title>WSL With Docker Could Not Be Found</title><link>https://gitsang.github.io/p/wsl-with-docker-could-not-be-found/</link><pubDate>Fri, 24 Sep 2021 14:21:20 +0800</pubDate><guid>https://gitsang.github.io/p/wsl-with-docker-could-not-be-found/</guid><description>&lt;!-- markdown-front-matter -->
&lt;h2 id="1-problem">&lt;a href="#1-problem" class="header-anchor">&lt;/a>1. Problem
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-powershell" data-lang="powershell">&lt;span class="line">&lt;span class="cl">&lt;span class="p">$&lt;/span> &lt;span class="n">docker&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">The&lt;/span> &lt;span class="n">command&lt;/span> &lt;span class="p">$&lt;/span> &lt;span class="n">docker&lt;/span> &lt;span class="n">could&lt;/span> &lt;span class="n">not&lt;/span> &lt;span class="n">be&lt;/span> &lt;span class="n">found&lt;/span> &lt;span class="k">in&lt;/span> &lt;span class="n">this&lt;/span> &lt;span class="n">WSL&lt;/span> &lt;span class="mf">1&lt;/span> &lt;span class="n">distro&lt;/span>&lt;span class="p">.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">We&lt;/span> &lt;span class="n">recommend&lt;/span> &lt;span class="n">to&lt;/span> &lt;span class="n">convert&lt;/span> &lt;span class="n">this&lt;/span> &lt;span class="n">distro&lt;/span> &lt;span class="n">to&lt;/span> &lt;span class="n">WSL&lt;/span> &lt;span class="mf">2&lt;/span> &lt;span class="n">and&lt;/span> &lt;span class="n">activate&lt;/span> &lt;span class="n">the&lt;/span> &lt;span class="n">WSL&lt;/span> &lt;span class="n">integration&lt;/span> &lt;span class="k">in&lt;/span> &lt;span class="n">Docker&lt;/span> &lt;span class="n">Desktop&lt;/span> &lt;span class="n">settings&lt;/span>&lt;span class="p">.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">See&lt;/span> &lt;span class="n">https&lt;/span>&lt;span class="err">:&lt;/span>&lt;span class="p">//&lt;/span>&lt;span class="n">docs&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="py">docker&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">com&lt;/span>&lt;span class="p">/&lt;/span>&lt;span class="nb">docker-for&lt;/span>&lt;span class="n">-windows&lt;/span>&lt;span class="p">/&lt;/span>&lt;span class="n">wsl&lt;/span>&lt;span class="p">/&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="n">details&lt;/span>&lt;span class="p">.&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="2-solution">&lt;a href="#2-solution" class="header-anchor">&lt;/a>2. Solution
&lt;/h2>&lt;p>Run in &lt;code>cmd.exe&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-powershell" data-lang="powershell">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="n">wsl&lt;/span> &lt;span class="p">-&lt;/span>&lt;span class="n">-list&lt;/span> &lt;span class="p">-&lt;/span>&lt;span class="n">-verbose&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">NAME&lt;/span> &lt;span class="n">STATE&lt;/span> &lt;span class="n">VERSION&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Ubuntu&lt;/span> &lt;span class="n">Running&lt;/span> &lt;span class="mf">1&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Then to switch it with &lt;code>wsl --set-version &amp;lt;your proc&amp;gt; 2&lt;/code>&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-powershell" data-lang="powershell">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="n">wsl&lt;/span> &lt;span class="p">-&lt;/span>&lt;span class="n">-set-version&lt;/span> &lt;span class="n">Ubuntu&lt;/span> &lt;span class="mf">2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Conversion&lt;/span> &lt;span class="k">in&lt;/span> &lt;span class="n">progress&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">this&lt;/span> &lt;span class="n">may&lt;/span> &lt;span class="n">take&lt;/span> &lt;span class="n">a&lt;/span> &lt;span class="n">few&lt;/span> &lt;span class="n">minutes&lt;/span>&lt;span class="p">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">For&lt;/span> &lt;span class="n">information&lt;/span> &lt;span class="n">on&lt;/span> &lt;span class="n">key&lt;/span> &lt;span class="n">differences&lt;/span> &lt;span class="n">with&lt;/span> &lt;span class="n">WSL&lt;/span> &lt;span class="mf">2&lt;/span> &lt;span class="n">please&lt;/span> &lt;span class="n">visit&lt;/span> &lt;span class="n">https&lt;/span>&lt;span class="err">:&lt;/span>&lt;span class="p">//&lt;/span>&lt;span class="n">aka&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">ms&lt;/span>&lt;span class="p">/&lt;/span>&lt;span class="n">wsl2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Conversion&lt;/span> &lt;span class="n">complete&lt;/span>&lt;span class="p">.&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Also you need to go to the docker desktop settings, and enable integration with your distro in &amp;ldquo;Resources -&amp;gt; WSL Integration&amp;rdquo;.&lt;/p>
&lt;h2 id="3-reference">&lt;a href="#3-reference" class="header-anchor">&lt;/a>3. Reference
&lt;/h2>&lt;div class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1">
&lt;p>&lt;a class="link" href="https://stackoverflow.com/questions/63497928/ubuntu-wsl-with-docker-could-not-be-found" target="_blank" rel="noopener"
>Ubuntu WSL with docker could not be found - Stack Overflow&lt;/a>&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/div></description></item><item><title>Linux Command Quick Search</title><link>https://gitsang.github.io/p/linux-command-quick-search/</link><pubDate>Thu, 14 May 2020 14:53:28 +0800</pubDate><guid>https://gitsang.github.io/p/linux-command-quick-search/</guid><description>&lt;!-- markdown-front-matter -->
&lt;h2 id="1-linux常用命令">&lt;a href="#1-linux%e5%b8%b8%e7%94%a8%e5%91%bd%e4%bb%a4" class="header-anchor">&lt;/a>1. Linux常用命令
&lt;/h2>&lt;h3 id="11-终端命令格式">&lt;a href="#11-%e7%bb%88%e7%ab%af%e5%91%bd%e4%bb%a4%e6%a0%bc%e5%bc%8f" class="header-anchor">&lt;/a>1.1 终端命令格式
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">command [-option] [parameter]
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>&lt;code>command&lt;/code> 命令名&lt;/li>
&lt;li>&lt;code>[-option]&lt;/code> 选项，用于控制命令，可省略&lt;/li>
&lt;li>&lt;code>[patameter]&lt;/code> 参数，可以是零到多个&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>终端常用快捷键&lt;/p>
&lt;ol>
&lt;li>&lt;code>'ctrl' + '+'&lt;/code> 放大终端字体&lt;/li>
&lt;li>&lt;code>'ctrl' + '-'&lt;/code> 缩小终端字体&lt;/li>
&lt;li>&lt;code>tab&lt;/code> 可自动补全指令&lt;/li>
&lt;li>&lt;code>上/下&lt;/code>光标可切换历史命令&lt;/li>
&lt;li>&lt;code>ctrl + c&lt;/code> 退出选择&lt;/li>
&lt;/ol>&lt;/blockquote>
&lt;h3 id="12-常用终端命令及常用选项">&lt;a href="#12-%e5%b8%b8%e7%94%a8%e7%bb%88%e7%ab%af%e5%91%bd%e4%bb%a4%e5%8f%8a%e5%b8%b8%e7%94%a8%e9%80%89%e9%a1%b9" class="header-anchor">&lt;/a>1.2 常用终端命令及常用选项
&lt;/h3>&lt;h4 id="121-文件和目录命令">&lt;a href="#121-%e6%96%87%e4%bb%b6%e5%92%8c%e7%9b%ae%e5%bd%95%e5%91%bd%e4%bb%a4" class="header-anchor">&lt;/a>1.2.1 文件和目录命令
&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>命令语法&lt;/th>
&lt;th>作用&lt;/th>
&lt;th>选项&lt;/th>
&lt;th>解释&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>clear&lt;/code>&lt;/td>
&lt;td>清屏&lt;/td>
&lt;td>&lt;/td>
&lt;td>清屏&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>ls [-opt]&lt;/code>&lt;/td>
&lt;td>查看当前文件夹内容&lt;/td>
&lt;td>&lt;code>-a&lt;/code>&lt;/td>
&lt;td>显示所有文件及目录 (包括开头为.的隐藏档)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;code>-l&lt;/code>&lt;/td>
&lt;td>以列表方式显示文件详细信息&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;code>-h&lt;/code>&lt;/td>
&lt;td>配合-l使用，以人性化方式显示文件大小&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;code>-R&lt;/code>&lt;/td>
&lt;td>若目录下有文件，则以下之文件亦皆依序列出&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>pwd&lt;/code>&lt;/td>
&lt;td>显示工作目录路径&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>cd [dirName]&lt;/code>&lt;/td>
&lt;td>切换目录&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>touch [-opt] name&lt;/code>&lt;/td>
&lt;td>触摸（创建）文件&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>mkdir [-opt] dirName&lt;/code>&lt;/td>
&lt;td>创建目录&lt;/td>
&lt;td>&lt;code>-p&lt;/code>&lt;/td>
&lt;td>递归创建目录&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>tree [-opt] [dirName]&lt;/code>&lt;/td>
&lt;td>显示目录树状图结构&lt;/td>
&lt;td>&lt;code>-d&lt;/code>&lt;/td>
&lt;td>只显示目录&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>cd name&lt;/code>&lt;/td>
&lt;td>切换目录&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>&lt;strong>cd 命令参数&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;code>cd&lt;/code> 切换到当前用户的主目录(/home/user)&lt;/li>
&lt;li>&lt;code>cd ~&lt;/code> 切换到当前用户的主目录(/home/user)&lt;/li>
&lt;li>&lt;code>cd .&lt;/code> 当前目录&lt;/li>
&lt;li>&lt;code>cd ..&lt;/code> 上级目录&lt;/li>
&lt;li>&lt;code>cd -&lt;/code> 在最近两次工作目录来回切换&lt;/li>
&lt;/ul>
&lt;h4 id="122-拷贝移动删除命令">&lt;a href="#122-%e6%8b%b7%e8%b4%9d%e7%a7%bb%e5%8a%a8%e5%88%a0%e9%99%a4%e5%91%bd%e4%bb%a4" class="header-anchor">&lt;/a>1.2.2 拷贝、移动、删除命令
&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>命令语法&lt;/th>
&lt;th>作用&lt;/th>
&lt;th>选项&lt;/th>
&lt;th>解释&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>rm [-opt] name&lt;/code>&lt;/td>
&lt;td>删除文件&lt;/td>
&lt;td>&lt;code>-f&lt;/code>&lt;/td>
&lt;td>强制删除，忽视不存在文件&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;code>-r&lt;/code>&lt;/td>
&lt;td>递归删除目录&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>mv [-opt] source dest&lt;/code>&lt;/td>
&lt;td>移动（重命名）文件/目录&lt;/td>
&lt;td>&lt;code>-i&lt;/code>&lt;/td>
&lt;td>覆盖文件前提示&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>cp [-opt] source dest&lt;/code>&lt;/td>
&lt;td>复制文件&lt;/td>
&lt;td>&lt;code>-f&lt;/code>&lt;/td>
&lt;td>直接覆盖文件&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;code>-i&lt;/code>&lt;/td>
&lt;td>覆盖文件前提示&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;code>-r&lt;/code>&lt;/td>
&lt;td>递归复制目录及所有子目录/文件&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4 id="123-文件内容命令">&lt;a href="#123-%e6%96%87%e4%bb%b6%e5%86%85%e5%ae%b9%e5%91%bd%e4%bb%a4" class="header-anchor">&lt;/a>1.2.3 文件内容命令
&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>命令语法&lt;/th>
&lt;th>作用&lt;/th>
&lt;th>选项&lt;/th>
&lt;th>解释&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>cat fileName&lt;/code>&lt;/td>
&lt;td>查看文件内容&lt;/td>
&lt;td>&lt;code>-b&lt;/code>&lt;/td>
&lt;td>对非空行标号&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;code>-n&lt;/code>&lt;/td>
&lt;td>对所有行标号&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>more fileName&lt;/code>&lt;/td>
&lt;td>分屏显示文件内容&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>grep [-opt] [param]&lt;/code>&lt;/td>
&lt;td>文本搜索工具&lt;/td>
&lt;td>&lt;code>-n&lt;/code>&lt;/td>
&lt;td>显示匹配行及行号&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>echo param&lt;/code>&lt;/td>
&lt;td>终端显参数指定文字&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>&amp;gt; 和 &amp;gt;&amp;gt;&lt;/code>&lt;/td>
&lt;td>重定向&lt;/td>
&lt;td>&lt;code>&amp;gt;&lt;/code>&lt;/td>
&lt;td>输出（覆盖所有内容）&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;code>&amp;gt;&amp;gt;&lt;/code>&lt;/td>
&lt;td>追加（追加到文件末尾）&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4 id="124-文件名通配符">&lt;a href="#124-%e6%96%87%e4%bb%b6%e5%90%8d%e9%80%9a%e9%85%8d%e7%ac%a6" class="header-anchor">&lt;/a>1.2.4 文件名通配符
&lt;/h4>&lt;ul>
&lt;li>&lt;code>*&lt;/code> 任意个数个字符&lt;/li>
&lt;li>&lt;code>?&lt;/code> 任意一个字符&lt;/li>
&lt;li>&lt;code>[]&lt;/code> 可匹配字符组中的一个&lt;/li>
&lt;li>&lt;code>[abc]&lt;/code> 匹配a、b、c中的任意一个&lt;/li>
&lt;li>&lt;code>[a-f]&lt;/code> 匹配 a 到 f 范围内的任意一个&lt;/li>
&lt;/ul>
&lt;h3 id="13-查阅帮助">&lt;a href="#13-%e6%9f%a5%e9%98%85%e5%b8%ae%e5%8a%a9" class="header-anchor">&lt;/a>1.3 查阅帮助
&lt;/h3>&lt;p>命令的查阅一般有以下两种方式&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">command --help
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">man command
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>man&lt;/code>是 manual 的缩写，为Linux提供的内置手册&lt;/p>
&lt;p>&lt;code>man&lt;/code>操作键及功能说明：&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>操作键&lt;/th>
&lt;th>功能&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Space&lt;/td>
&lt;td>显示下一屏&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Enter&lt;/td>
&lt;td>滚动一行&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>b&lt;/td>
&lt;td>回滚一屏&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>f&lt;/td>
&lt;td>显示下一屏&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>q&lt;/td>
&lt;td>退出&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>/word&lt;/td>
&lt;td>搜索word字符串&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="2-linux文件权限与目录配置">&lt;a href="#2-linux%e6%96%87%e4%bb%b6%e6%9d%83%e9%99%90%e4%b8%8e%e7%9b%ae%e5%bd%95%e9%85%8d%e7%bd%ae" class="header-anchor">&lt;/a>2. Linux文件权限与目录配置
&lt;/h2>&lt;p>输入&lt;code>ls -al&lt;/code>命令列出所有的文件详细权限与属性，显示如下&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">dr-xr-x---. 7 root root 264 Jul 2 18:49 .
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">dr-xr-xr-x. 18 root root 237 May 16 17:35 ..
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">drwxr-xr-x 3 root root 15 Jul 2 18:47 a
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">drwx------ 3 root root 17 Mar 15 16:08 .ansible
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-rw------- 1 root root 18390 Sep 19 2018 .bash_history
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="3-vim文本编辑器">&lt;a href="#3-vim%e6%96%87%e6%9c%ac%e7%bc%96%e8%be%91%e5%99%a8" class="header-anchor">&lt;/a>3. vim文本编辑器
&lt;/h2>&lt;h3 id="31-vim的三种模式">&lt;a href="#31-vim%e7%9a%84%e4%b8%89%e7%a7%8d%e6%a8%a1%e5%bc%8f" class="header-anchor">&lt;/a>3.1 vim的三种模式
&lt;/h3>&lt;p>命令模式：不能直接编辑文件，可输入快捷键操作（删除行、复制行、移动光标等）
编辑模式：可用于编辑文本
末行模式：在末行输入命令进行操作（搜索、替换、保存、退出、高亮）&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>vim打开文件命令&lt;/th>
&lt;th>作用&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>vim filename&lt;/code>&lt;/td>
&lt;td>打开指定文件&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>vim +num filename&lt;/code>&lt;/td>
&lt;td>打开指定文件，将光标移到指定行&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>vim +/keyword filename&lt;/code>&lt;/td>
&lt;td>打开指定文件，高亮显示关键词&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>vim filename1 filename2 filename3&lt;/code>&lt;/td>
&lt;td>同时打开多个文件&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="32-vim编辑器常用操作">&lt;a href="#32-vim%e7%bc%96%e8%be%91%e5%99%a8%e5%b8%b8%e7%94%a8%e6%93%8d%e4%bd%9c" class="header-anchor">&lt;/a>3.2 vim编辑器常用操作
&lt;/h3>&lt;p>以下命令或操作中&lt;code>n&lt;/code>代表具体数字，如&lt;code>nG&lt;/code>代表&lt;code>1G&lt;/code>、&lt;code>2G&lt;/code>、&lt;code>36G&lt;/code>等。&lt;/p>
&lt;p>1、光标移动命令&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>操作&lt;/th>
&lt;th>作用&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>H J K L&lt;/code>&lt;/td>
&lt;td>前 下 上 后&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>0&lt;/code> / &lt;code>^&lt;/code>&lt;/td>
&lt;td>移动到行首&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>$&lt;/code>&lt;/td>
&lt;td>移动到行尾&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gg&lt;/code>&lt;/td>
&lt;td>移动到文件开始位置&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>G&lt;/code>&lt;/td>
&lt;td>移动到文件末尾&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>nG&lt;/code>&lt;/td>
&lt;td>移动到指定行&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>n↑&lt;/code> / &lt;code>n↓&lt;/code>&lt;/td>
&lt;td>光标上下移n行&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>n←&lt;/code> / &lt;code>n→&lt;/code>&lt;/td>
&lt;td>光标左右移n列&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>:n&lt;/code>&lt;/td>
&lt;td>移动到n行&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>2、复制 / 粘贴 / 删除 / 撤销操作&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>操作&lt;/th>
&lt;th>作用&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>yy&lt;/code>&lt;/td>
&lt;td>复制&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>nyy&lt;/code>&lt;/td>
&lt;td>复制n行&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>p&lt;/code>&lt;/td>
&lt;td>粘贴到光标所在行的下一行&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>P&lt;/code>&lt;/td>
&lt;td>粘贴到光标所在行&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>x&lt;/code>&lt;/td>
&lt;td>删除（剪切）光标后字符&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>x&lt;/code>&lt;/td>
&lt;td>删除（剪切）光标后字符&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>X&lt;/code>&lt;/td>
&lt;td>删除（剪切）光标前字符&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>dw&lt;/code>&lt;/td>
&lt;td>删除（剪切）光标后单词（delete word）&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>d0&lt;/code> / &lt;code>d^&lt;/code>&lt;/td>
&lt;td>删除（剪切）光标前整行（delete to 0）&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>d$&lt;/code> / &lt;code>D&lt;/code>&lt;/td>
&lt;td>删除（剪切）光标后整行（delete to $）&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>dd&lt;/code>&lt;/td>
&lt;td>删除（剪切）当前行&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>ndd&lt;/code>&lt;/td>
&lt;td>删除（剪切）当前行开始往下n行&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>u&lt;/code>&lt;/td>
&lt;td>撤销&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>ctrl + r&lt;/code>&lt;/td>
&lt;td>重做&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="33-vim末行模式-或--进入">&lt;a href="#33-vim%e6%9c%ab%e8%a1%8c%e6%a8%a1%e5%bc%8f-%e6%88%96--%e8%bf%9b%e5%85%a5" class="header-anchor">&lt;/a>3.3 vim末行模式（: 或 / 进入）
&lt;/h3>&lt;p>基本操作&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>基本操作&lt;/th>
&lt;th>作用&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>:w&lt;/code>&lt;/td>
&lt;td>保存文件&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>:w filename&lt;/code>&lt;/td>
&lt;td>另存文件&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>:q&lt;/code>&lt;/td>
&lt;td>退出&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>!&lt;/code>&lt;/td>
&lt;td>强制操作（一般跟在其他命令末尾输入）&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>:!外部命令&lt;/code>&lt;/td>
&lt;td>调用外部命令(如 &lt;code>:!ls&lt;/code>)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>set nu&lt;/code> / &lt;code>set nonu&lt;/code>&lt;/td>
&lt;td>显示 / 不显示行号&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>查找 / 替换&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>查找 / 替换&lt;/th>
&lt;th>作用&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>/keyword&lt;/code>&lt;/td>
&lt;td>查找关键词&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>N&lt;/code> / &lt;code>n&lt;/code>&lt;/td>
&lt;td>切换查找结果(上一个/下一个)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>:nohl&lt;/code>&lt;/td>
&lt;td>取消高亮&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>:s/查找的关键词/替换的关键词&lt;/code>&lt;/td>
&lt;td>替换本行第一处&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>:s/查找的关键词/替换的关键词/g&lt;/code>&lt;/td>
&lt;td>替换本行全部内容&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>:%s/查找的关键词/替换的关键词&lt;/code>&lt;/td>
&lt;td>替换整个文档中每一行的第一处&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>:%s/查找的关键词/替换的关键词/g&lt;/code>&lt;/td>
&lt;td>替换整个文档&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>多文件操作&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>多文件操作&lt;/th>
&lt;th>作用&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>vim file1 [file2 ...]&lt;/code>&lt;/td>
&lt;td>同时打开多个文件 &lt;strong>#外部命令#&lt;/strong>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>:files&lt;/code>&lt;/td>
&lt;td>查看当前已打开文件&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/td>
&lt;td>&lt;code>%a&lt;/code> active表示正打开的文件&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/td>
&lt;td>&lt;code>#&lt;/code> 表示上一个打开的文件&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>:open filename&lt;/code>&lt;/td>
&lt;td>切换打开的文件&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>:bn&lt;/code>&lt;/td>
&lt;td>切换到下一个文件next&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>:bp&lt;/code>&lt;/td>
&lt;td>切换到上一个文件prev&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="34-vim分屏操作">&lt;a href="#34-vim%e5%88%86%e5%b1%8f%e6%93%8d%e4%bd%9c" class="header-anchor">&lt;/a>3.4 vim分屏操作
&lt;/h3>&lt;p>1、打开文件并且分屏&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>vim建立和关闭分屏&lt;/th>
&lt;th>作用&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>vim -O[n] file1 [file2 ...]&lt;/code>&lt;/td>
&lt;td>垂直分n屏 &lt;strong>#外部命令#&lt;/strong>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>vim -o[n] file1 [file2 ...]&lt;/code>&lt;/td>
&lt;td>水平分n屏 &lt;strong>#外部命令#&lt;/strong>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>:vs [file2]&lt;/code> / &lt;code>:vsp&lt;/code> / &lt;code>:vsplit&lt;/code>&lt;/td>
&lt;td>垂直分屏，不加文件名则将当前文件分屏&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>:sv [file2]&lt;/code> / &lt;code>:sp&lt;/code> / &lt;code>:split&lt;/code>&lt;/td>
&lt;td>水平分屏，不加文件名则将当前文件分屏&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>:new [newfile]&lt;/code>&lt;/td>
&lt;td>新建水平分屏&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>:only&lt;/code>&lt;/td>
&lt;td>关闭除当前分屏外的其他分屏&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>:qa&lt;/code>&lt;/td>
&lt;td>关闭所有分屏&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>ctrl+w&lt;/code> + &lt;code>v&lt;/code>&lt;/td>
&lt;td>垂直分屏 &lt;strong>&amp;lt;快捷键&amp;gt;&lt;/strong>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>ctrl+w&lt;/code> + &lt;code>s&lt;/code>&lt;/td>
&lt;td>水平分屏 &lt;strong>&amp;lt;快捷键&amp;gt;&lt;/strong>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>ctrl+w&lt;/code> + &lt;code>n&lt;/code>&lt;/td>
&lt;td>新建水平分屏 &lt;strong>&amp;lt;快捷键&amp;gt;&lt;/strong>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>ctrl+w&lt;/code> + &lt;code>o&lt;/code>&lt;/td>
&lt;td>关闭除当前分屏外的其他分屏 &lt;strong>&amp;lt;快捷键&amp;gt;&lt;/strong>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>ctrl+w&lt;/code> + &lt;code>c&lt;/code>&lt;/td>
&lt;td>关闭当前分屏 &lt;strong>&amp;lt;快捷键&amp;gt;&lt;/strong>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>vim分屏窗口调整&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>vim分屏窗口调整&lt;/th>
&lt;th>作用 &lt;strong>&amp;lt;快捷键&amp;gt;&lt;/strong>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>ctrl+w&lt;/code> + &lt;code>l&lt;/code>&lt;/td>
&lt;td>把光标移到右边的屏中&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>ctrl+w&lt;/code> + &lt;code>h&lt;/code>&lt;/td>
&lt;td>把光标移到左边的屏中&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>ctrl+w&lt;/code> + &lt;code>k&lt;/code>&lt;/td>
&lt;td>把光标移到上边的屏中&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>ctrl+w&lt;/code> + &lt;code>j&lt;/code>&lt;/td>
&lt;td>把光标移到下边的屏中&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>ctrl+w&lt;/code> + &lt;code>w&lt;/code>&lt;/td>
&lt;td>把光标移到下一个屏中&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>ctrl+w&lt;/code> + &lt;code>p&lt;/code>&lt;/td>
&lt;td>把光标移到上一个屏中&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>ctrl+w&lt;/code> + &lt;code>L&lt;/code>&lt;/td>
&lt;td>向右移动分屏&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>ctrl+w&lt;/code> + &lt;code>H&lt;/code>&lt;/td>
&lt;td>向左移动分屏&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>ctrl+w&lt;/code> + &lt;code>J&lt;/code>&lt;/td>
&lt;td>向上移动分屏&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>ctrl+w&lt;/code> + &lt;code>K&lt;/code>&lt;/td>
&lt;td>向下移动分屏&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>ctrl+w&lt;/code> + &lt;code>r&lt;/code>&lt;/td>
&lt;td>向下旋转窗口&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>ctrl+w&lt;/code> + &lt;code>R&lt;/code>&lt;/td>
&lt;td>向上旋转窗口&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>ctrl+w&lt;/code> + &lt;code>x&lt;/code>&lt;/td>
&lt;td>当前窗口与下一个窗口对调&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>ctrl+w&lt;/code> + &lt;code>-&lt;/code>&lt;/td>
&lt;td>减少当前窗口高度&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>ctrl+w&lt;/code> + &lt;code>+&lt;/code>&lt;/td>
&lt;td>增加当前窗口高度&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>ctrl+w&lt;/code> + &lt;code>&amp;lt;&lt;/code>&lt;/td>
&lt;td>增加当前窗口宽度&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>ctrl+w&lt;/code> + &lt;code>&amp;gt;&lt;/code>&lt;/td>
&lt;td>减少当前窗口宽度&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>ctrl+w&lt;/code> + &lt;code>=&lt;/code>&lt;/td>
&lt;td>使所有窗口恢复均等&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;hr>
&lt;h2 id="4-参考">&lt;a href="#4-%e5%8f%82%e8%80%83" class="header-anchor">&lt;/a>4. 参考
&lt;/h2>&lt;p>vim分屏
&lt;a class="link" href="https://coolshell.cn/articles/1679.html" target="_blank" rel="noopener"
>https://coolshell.cn/articles/1679.html&lt;/a>
&lt;a class="link" href="https://www.jianshu.com/p/52949caa7e93" target="_blank" rel="noopener"
>https://www.jianshu.com/p/52949caa7e93&lt;/a>&lt;/p>
&lt;p>gdb调试
&lt;a class="link" href="https://www.ibm.com/developerworks/cn/linux/sdk/gdb/index.html" target="_blank" rel="noopener"
>https://www.ibm.com/developerworks/cn/linux/sdk/gdb/index.html&lt;/a>&lt;/p>
&lt;p>linux 下 JDK
&lt;a class="link" href="https://www.yiibai.com/java/how-to-install-java-on-ubuntu.html" target="_blank" rel="noopener"
>https://www.yiibai.com/java/how-to-install-java-on-ubuntu.html&lt;/a>&lt;/p>
&lt;p>windows 下 JDK
&lt;a class="link" href="https://www.runoob.com/java/java-environment-setup.html#linux-install" target="_blank" rel="noopener"
>https://www.runoob.com/java/java-environment-setup.html#linux-install&lt;/a>&lt;/p></description></item><item><title>Delete Space Overline Using Vim Record</title><link>https://gitsang.github.io/p/delete-space-over-line-using-vim-record/</link><pubDate>Thu, 07 May 2020 20:45:49 +0800</pubDate><guid>https://gitsang.github.io/p/delete-space-over-line-using-vim-record/</guid><description>&lt;!-- markdown-front-matter -->
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vim" data-lang="vim">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">qd&lt;/span>$&lt;span class="nx">a&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">space&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nx">space&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nx">esc&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">g_ldwjq&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">gg10000&lt;/span>@&lt;span class="nx">d&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="1-说明">&lt;a href="#1-%e8%af%b4%e6%98%8e" class="header-anchor">&lt;/a>1. 说明
&lt;/h2>&lt;ol>
&lt;li>使用 vim 自带 record 功能
&lt;ul>
&lt;li>&lt;code>q&amp;lt;?&amp;gt;&lt;/code> 启动录制，保存在 &lt;code>&amp;lt;?&amp;gt;&lt;/code> 键&lt;/li>
&lt;li>&lt;code>q&lt;/code> 结束录制&lt;/li>
&lt;li>&lt;code>@&amp;lt;?&amp;gt;&lt;/code> 调用 &lt;code>&amp;lt;?&amp;gt;&lt;/code> 键录制结果&lt;/li>
&lt;li>&lt;code>num@&amp;lt;?&amp;gt;&lt;/code> 调用 num 次 &lt;code>&amp;lt;?&amp;gt;&lt;/code> 键录制结果&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>在末尾 &lt;code>dw&lt;/code> 删除空格&lt;/li>
&lt;li>&lt;code>$a&amp;lt;space&amp;gt;&lt;/code> 添加空格防止末尾无空格情况删除掉最后一个字符&lt;/li>
&lt;li>&lt;code>$a&amp;lt;space&amp;gt;&amp;lt;space&amp;gt;&lt;/code> 添加两个空格防止空行情况下出现错误&lt;/li>
&lt;li>&lt;code>g_&lt;/code> 移动到最后一个非空字符，有些人会使用 &lt;code>$be&lt;/code> &lt;code>$ge&lt;/code> 等方式移动到最后一个非空字符，但大部分方式是有问题的，详见 &lt;a class="link" href="https://www.zhihu.com/question/26221661" target="_blank" rel="noopener"
>vim如何移动到光标所在行最后一个非空字符，而不是末尾？&lt;/a>&lt;/li>
&lt;li>最后按 &lt;code>j&lt;/code> 自动下一行&lt;/li>
&lt;/ol></description></item><item><title>Using Iptables</title><link>https://gitsang.github.io/p/using-iptables/</link><pubDate>Sat, 14 Mar 2020 14:53:28 +0800</pubDate><guid>https://gitsang.github.io/p/using-iptables/</guid><description>&lt;!-- markdown-front-matter -->
&lt;h2 id="1-使用-iptables-进行端口映射">&lt;a href="#1-%e4%bd%bf%e7%94%a8-iptables-%e8%bf%9b%e8%a1%8c%e7%ab%af%e5%8f%a3%e6%98%a0%e5%b0%84" class="header-anchor">&lt;/a>1. 使用 iptables 进行端口映射&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>&lt;sup id="fnref:2">&lt;a href="#fn:2" class="footnote-ref" role="doc-noteref">2&lt;/a>&lt;/sup>
&lt;/h2>&lt;h3 id="11-第一步--打开端口映射功能-">&lt;a href="#11-%e7%ac%ac%e4%b8%80%e6%ad%a5--%e6%89%93%e5%bc%80%e7%ab%af%e5%8f%a3%e6%98%a0%e5%b0%84%e5%8a%9f%e8%83%bd-" class="header-anchor">&lt;/a>1.1 第一步 : 打开端口映射功能 :
&lt;/h3>&lt;h4 id="111-方法一--允许数据包转发">&lt;a href="#111-%e6%96%b9%e6%b3%95%e4%b8%80--%e5%85%81%e8%ae%b8%e6%95%b0%e6%8d%ae%e5%8c%85%e8%bd%ac%e5%8f%91" class="header-anchor">&lt;/a>1.1.1 方法一 : (允许数据包转发)
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo echo &amp;#39;1&amp;#39; &amp;gt; /proc/sys/net/ipv4/ip_forward
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="112-方法二-">&lt;a href="#112-%e6%96%b9%e6%b3%95%e4%ba%8c-" class="header-anchor">&lt;/a>1.1.2 方法二 :
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">vim /etc/sysctl.conf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>将 &lt;code>;net.ipv4.ip_forward = 0&lt;/code> 这一行的注视去掉 , 并将 0 改为 1&lt;/p>
&lt;p>修改后的结果为 :&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">net.ipv4.ip_forward = 1
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="12-第二步--进行映射-">&lt;a href="#12-%e7%ac%ac%e4%ba%8c%e6%ad%a5--%e8%bf%9b%e8%a1%8c%e6%98%a0%e5%b0%84-" class="header-anchor">&lt;/a>1.2 第二步 : 进行映射 :
&lt;/h3>&lt;p>DNAT&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">iptables -t nat -A PREROUTING -d 本机IP -p tcp --dport 本机端口 -j DNAT --to-destination 目标机IP:目标机端口
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>SNAT&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">iptables -t nat -A PREROUTING -d 本机IP -p tcp --dport 本机端口 -j SNAT --to-destination 目标机IP:目标机端口
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="2-参考">&lt;a href="#2-%e5%8f%82%e8%80%83" class="header-anchor">&lt;/a>2. 参考：
&lt;/h2>&lt;div class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1">
&lt;p>&lt;a class="link" href="https://www.jianshu.com/p/d3f30fb9ebf6" target="_blank" rel="noopener"
>Linux 端口映射&lt;/a>&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:2">
&lt;p>&lt;a class="link" href="https://blog.csdn.net/zzhongcy/article/details/42738285" target="_blank" rel="noopener"
>iptables端口转发&lt;/a>&amp;#160;&lt;a href="#fnref:2" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/div></description></item><item><title>Using Proxy</title><link>https://gitsang.github.io/p/using-proxy/</link><pubDate>Sat, 14 Mar 2020 14:53:28 +0800</pubDate><guid>https://gitsang.github.io/p/using-proxy/</guid><description>&lt;!-- markdown-front-matter -->
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">http_proxy&lt;/span>&lt;span class="o">=&lt;/span>http://127.0.0.1:1080
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">https_proxy&lt;/span>&lt;span class="o">=&lt;/span>http://127.0.0.1:1080
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">http_proxy&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;socks5://127.0.0.1:1080&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">https_proxy&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;socks5://127.0.0.1:1080&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">ALL_PROXY&lt;/span>&lt;span class="o">=&lt;/span>socks5://127.0.0.1:1080
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Yum Command Quick Search</title><link>https://gitsang.github.io/p/yum-command-quick-search/</link><pubDate>Tue, 14 Jan 2020 14:53:28 +0800</pubDate><guid>https://gitsang.github.io/p/yum-command-quick-search/</guid><description>&lt;!-- markdown-front-matter -->
&lt;h2 id="1-yum-针对软件包操作常用命令">&lt;a href="#1-yum-%e9%92%88%e5%af%b9%e8%bd%af%e4%bb%b6%e5%8c%85%e6%93%8d%e4%bd%9c%e5%b8%b8%e7%94%a8%e5%91%bd%e4%bb%a4" class="header-anchor">&lt;/a>1. yum 针对软件包操作常用命令
&lt;/h2>&lt;ol>
&lt;li>查看安装了哪些软件包&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">yum list installed
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="2">
&lt;li>查找软件包&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">yum search
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="3">
&lt;li>列出所有可安装的软件包&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">yum list
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="4">
&lt;li>列出所有可更新的软件包&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">yum list updates
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="5">
&lt;li>列出所有已安装的软件包&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">yum list installed
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="6">
&lt;li>列出所有已安装但不在 Yum Repository 内的软件包&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">yum list extras
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="7">
&lt;li>列出所指定的软件包&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">yum list
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="8">
&lt;li>获取软件包信息&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">yum info
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="9">
&lt;li>列出所有可更新的软件包信息&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">yum info updates
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="10">
&lt;li>列出所有已安装的软件包信息&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">yum info installed
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="11">
&lt;li>列出所有已安装但不在 Yum Repository 内的软件包信息&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">yum info extras
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="12">
&lt;li>列出软件包提供哪些文件&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">yum provides
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="13">
&lt;li>卸载软件包&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">yum remove
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item></channel></rss>